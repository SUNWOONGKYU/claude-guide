# 12편 | MCP 기초 - 외부 서비스와 연결하기

---

MCP(Model Context Protocol)는 AI가 외부 세계와 소통하는 표준 언어입니다. 마치 USB가 다양한 기기를 연결하는 표준이 된 것처럼, MCP는 Claude가 데이터베이스, API, 파일 시스템 등과 자유롭게 연결될 수 있게 합니다. 이번 편에서는 MCP의 기초 개념과 실제 활용 사례를 알아봅니다.

## 1. MCP란 무엇인가?

### MCP의 정의와 개념

**MCP(Model Context Protocol)**는 AI 애플리케이션이 대규모 언어 모델(LLM)에 컨텍스트를 제공하는 방법을 표준화한 오픈 프로토콜입니다. 쉽게 말해, AI가 컴퓨터, 데이터베이스, API, 클라우드 서비스 등과 대화할 수 있게 해주는 **"공통 언어"**입니다.

MCP를 더 쉽게 설명하자면 **"AI를 위한 USB-C"**입니다. USB-C(Universal Serial Bus Type-C; 하나의 포트로 충전, 데이터 전송, 디스플레이 연결 등 모든 것을 가능하게 하는 범용 포트)처럼 하나의 표준 프로토콜로 AI가 다양한 도구와 데이터에 접근할 수 있게 합니다.

이는 마치 전원 어댑터의 표준화 과정과 같습니다. 과거에는 노트북, 휴대폰, 태블릿마다 각기 다른 충전기가 필요했지만, 이제는 USB-C 하나로 모든 기기를 충전할 수 있습니다. MCP도 마찬가지로 하나의 표준으로 모든 AI와 도구를 연결하는 통합 플랫폼을 제공합니다.

### MCP의 혁신성

2024년 11월 Anthropic이 오픈소스로 공개한 이 프로토콜은 기존의 파편화된 AI 통합 방식을 개선했습니다.

**기존 방식의 문제점:**

이전에는 각 AI 서비스마다 별도의 커스텀 통합을 구현해야 했습니다. 예를 들어 ChatGPT용 플러그인, Claude용 도구, Gemini용 확장 프로그램을 각각 다른 방식으로 개발해야 했죠. 더 큰 문제는 AI 모델을 변경할 때마다 모든 통합을 처음부터 다시 작업해야 한다는 점이었습니다. 표준화가 없어 동일한 기능을 여러 번 중복 개발하는 비효율이 발생했습니다.

**MCP가 가져온 변화:**

MCP는 한 번의 서버 구현으로 모든 호환 AI와 연동할 수 있게 만들었습니다. 마치 USB 기기를 꽂으면 바로 작동하는 플러그 앤 플레이처럼, MCP 서버를 추가하면 즉시 사용 가능합니다. 개발자들이 자유롭게 기여하는 커뮤니티 주도 생태계가 형성되어 혁신적인 도구들이 빠르게 확산되고 있습니다.

**MCP 도입의 경제적 효과:**

MCP 표준화의 가장 큰 장점은 개발 비용의 극적인 절감입니다. 예를 들어 10개의 AI 모델과 10개의 도구를 연결한다고 가정해봅시다. 기존 방식대로라면 각 AI마다 각 도구를 따로 연결해야 하므로 10×10=100개의 커스텀 통합이 필요합니다. 하지만 MCP를 사용하면 10개의 AI가 MCP를 지원하고, 10개의 도구가 MCP 서버로 구현되면 끝입니다. 즉, 10+10=20개의 구현만으로 모든 연결이 가능해집니다. 이는 개발 시간을 80% 단축시키고, 유지보수 부담도 크게 줄입니다. 

**2025년 3월 OpenAI의 MCP 채택:**
경쟁사인 OpenAI마저 MCP를 공식 채택했다는 것은 MCP가 업계 표준으로 자리잡았음을 의미합니다. Sam Altman은 "MCP는 AI 생태계의 미래다. 우리는 이 개방형 표준을 지원하기로 결정했다"고 발표했고, ChatGPT에서도 MCP 서버를 사용할 수 있게 되었습니다.

### MCP의 기술적 구조

MCP는 기술적으로 세 가지 구성요소로 이루어져 있습니다:

**1) MCP Host**: AI 애플리케이션 자체
**2) MCP Client**: Host 내에서 실행되며 서버와 1:1 연결을 유지하는 중개자
**3) MCP Server**: 실제 데이터와 도구를 제공하는 독립 프로세스

이들은 JSON-RPC 2.0 기반 프로토콜로 통신하며, 상태를 유지하는 연결을 통해 실시간으로 정보를 주고받습니다.

### MCP가 제공하는 3가지 핵심 기능

MCP는 Client-Server 아키텍처를 통해 AI에게 3가지 핵심 기능(Primitives)을 제공합니다:

**1) Resources (리소스)** - AI가 접근할 수 있는 컨텍스트 데이터
   - 파일 내용, 데이터베이스 스키마, API 문서 등
   - 정적 또는 동적으로 업데이트되는 정보 제공
   - AI가 의사결정에 필요한 배경 정보와 참조 자료

**2) Tools (도구)** - AI가 실행할 수 있는 함수들
   - 데이터베이스 쿼리 실행, 파일 생성/수정, API 호출 등
   - 입력 파라미터를 받아 작업을 수행하고 결과 반환
   - Claude가 직접 할 수 없는 시스템 레벨 작업 가능

**3) Prompts (프롬프트)** - 재사용 가능한 상호작용 템플릿
   - 데이터 분석 워크플로우, 코드 리뷰 체크리스트 등
   - 복잡한 작업을 표준화된 프로세스로 가이드
   - 팀 내 일관된 작업 방식 유지

이 세 가지 프리미티브는 서로 상호보완적으로 작동합니다. Resources로 컨텍스트를 제공하고, Tools로 작업을 수행하며, Prompts로 복잡한 워크플로우를 관리합니다.

### Claude에서 MCP가 필요한 이유

claude.ai 웹 버전은 강력하지만 **격리된 섬**과 같습니다. 브라우저 보안 정책상 로컬 파일을 읽을 수도, 데이터베이스에 직접 접근할 수도, 시스템 API를 호출할 수도 없습니다.

반면 MCP를 통해 연결된 Claude Desktop과 Claude Code는 **연결된 도시**처럼 작동합니다:
- 로컬 파일 시스템에 직접 접근하여 파일 읽기/쓰기
- 데이터베이스에 연결하여 쿼리 실행  
- 외부 API 호출하여 실시간 데이터 가져오기
- 시스템 명령 실행하여 자동화 작업 수행

이 모든 것이 안전하고 통제된 방식으로 이루어지며, 사용자가 명시적으로 허용한 범위 내에서만 작동합니다.

## 2. Claude 내부 MCP 서버

Claude 내부에서 제공되는 3가지 MCP 서버는 아래와 같습니다. 이들 MCP 서버를 사용하기 위해서는 사전에 설치를 해야 하고, 각각이 Claude의 능력을 대폭 확장시키는 역할을 합니다.

### 2.1 filesystem MCP - 파일 시스템 접근

**filesystem MCP**는 Claude가 여러분의 컴퓨터에 있는 파일과 폴더에 직접 접근하여 읽기, 쓰기, 생성, 삭제, 이동 등의 작업을 수행할 수 있게 해주는 도구입니다. 로컬 파일은 물론 Google Drive, OneDrive, Dropbox 같은 클라우드 저장소와도 연동됩니다.

**주요 활용 사례:**

**대규모 코드베이스 리팩토링**
```
사용자: "프로젝트 전체에서 deprecated된 코드를 모두 최신 버전으로 업데이트해줘"
Claude: "523개 파일에서 3,847개 라인을 수정했습니다. print→logging 248개, os.path→pathlib 89개 완료."
```

**문서 체계 자동화**  
```
사용자: "지난 1년간 모든 프로젝트 문서를 카테고리별로 분류하고 대시보드를 만들어줘"
Claude: "847개 문서 분석 완료. 회의록 234개, 기획서 156개로 분류. Excel 대시보드 생성 완료."
```

### 2.2 memory MCP - Claude의 장기 기억

**memory MCP**는 대화 간 정보를 저장하고 학습하는 Claude의 두뇌입니다. 새로운 대화를 시작해도 이전 학습 내용을 기억하여, 마치 오랜 동료처럼 작업 스타일과 선호도를 이해합니다.

**장기 프로젝트 컨텍스트 유지**
```
사용자: "지난 2주간 작업한 전자상거래 플랫폼 프로젝트 현재 상태를 정리해줘"
Claude: "14일간 진행 요약: DB 설계→백엔드 API 35개 구현→현재 주문 프로세스 작업 중. MVP 70% 완성."
```

### 2.3 anthropic MCP - 6개 특화 도구

Anthropic에서 제공하는 MCP 서버로, Claude API를 통해 6개의 특화된 도구를 제공하며, 각 도구는 특정 작업에 최적화되어 있습니다.

**1) ask** - 독립적인 질의응답 도구
메인 작업을 방해하지 않고 병렬로 수행되는 빠른 질의응답이 가능합니다. 별도 컨텍스트에서 작동하여 현재 작업 흐름을 유지하면서 간단한 정보를 즉시 확인할 수 있습니다.

**2) stream** - 실시간 스트리밍 기능
대용량 텍스트를 실시간으로 생성하며 즉시 확인할 수 있습니다. 긴 코드나 문서 작성 시 결과를 기다리지 않고 바로 확인하고 필요시 중단할 수 있어 효율적입니다.

**3) vision** - 이미지 분석 전문 도구
스캔 문서, 사진, 도표에서 텍스트와 데이터를 자동 추출합니다. OCR을 넘어 이미지 구조를 이해하고, 테이블을 데이터로 변환하거나 다이어그램을 코드로 구현할 수 있습니다.

**4) multi_turn** - 복잡한 대화 관리
긴 문맥과 복잡한 대화 히스토리를 자동 관리하여 심층 분석 작업을 수행합니다. 여러 단계의 추론이 필요한 작업에서 이전 내용을 기억하고 일관성 있는 분석을 제공합니다.

**5) count_tokens** - 비용 예측 도구
대량 문서 처리 전 정확한 토큰 수와 API 비용을 사전 계산합니다. 예산 책정과 모델 선택에 필수적이며, 최적의 프롬프트 길이를 찾아 비용을 절감할 수 있습니다.

**6) tools** - 커스텀 함수 실행
사용자가 정의한 함수와 도구를 Claude가 실행할 수 있게 합니다. 외부 API 호출, DB 쿼리 등 Claude가 직접 할 수 없는 작업을 함수로 정의하여 복잡한 워크플로우를 자동화합니다.

### 2.4 Claude 접근 방식별 MCP 지원 현황

**Claude Desktop 버전**
- 위의 3개 MCP 모두 지원
- 설치: MCP 서버들을 npm으로 설치
  ```bash
  npm install @modelcontextprotocol/server-filesystem
  npm install @modelcontextprotocol/server-memory  
  npm install @anthropic-ai/anthropic-mcp-server
  ```
- 설정: `claude_desktop_config.json` 파일에 서버 정보 추가
- 사용법: Claude Desktop 재시작 후 자동으로 MCP 도구들이 사용 가능

**Claude Code 버전**
- 위의 3개 MCP 모두 지원
- 설치: `claude mcp add` 명령어로 서버 추가
  ```bash
  claude mcp add filesystem "npx @modelcontextprotocol/server-filesystem"
  claude mcp add memory "npx @modelcontextprotocol/server-memory"
  claude mcp add anthropic "npx @anthropic-ai/anthropic-mcp-server"
  ```
- 설정: `.claude.json` 설정 파일에 자동 저장됨
- 사용법: `claude --mcp-config .claude.json`으로 시작하면 활성화
- 주의: 세션 시작 시에만 MCP 서버 로드됨 (실행 중 추가 불가)

**claude.ai 웹 버전**
- 위의 3개 MCP 미지원
- 제약 사유: 브라우저 보안 정책으로 로컬 시스템 접근 불가

## 3. Claude 외부 MCP 서버

Claude 외부에서 제공되는 MCP 서버들은 아래와 같으며, 사용을 하기 위해서는 사전에 별도 설치가 필요하고 각각이 Claude의 능력을 확장시키는 역할을 합니다.

### 3.1 Anthropic GitHub 공식 MCP 서버들

#### 개발 도구
- **GitHub MCP**: 저장소 관리, PR, 이슈 추적, 코드 리뷰 자동화
- **Git MCP**: 로컬 버전 관리, 브랜치 작업
- **Docker MCP**: 컨테이너 관리 및 배포
- **Puppeteer MCP**: 웹 자동화 및 스크래핑

#### 데이터베이스
- **PostgreSQL MCP**: 관계형 데이터베이스 쿼리 및 관리
- **MySQL MCP**: MySQL/MariaDB 데이터베이스 연동
- **SQLite MCP**: 로컬 경량 데이터베이스
- **MongoDB MCP**: NoSQL 데이터베이스 작업

#### 커뮤니케이션
- **Slack MCP**: 팀 메시징 자동화, 알림 시스템
- **Discord MCP**: 커뮤니티 관리 및 봇 통합
- **Email MCP**: 이메일 자동 발송 및 관리

#### 클라우드 서비스
- **Google Drive MCP**: 파일 저장 및 공유
- **AWS MCP**: Amazon 클라우드 서비스 관리
- **Azure MCP**: Microsoft 클라우드 통합

### 3.2 기타 MCP 서버들

#### 생산성 도구
- **Notion MCP**: 프로젝트 문서화 및 지식 관리
- **Todoist MCP**: 작업 관리 및 일정 추적
- **Calendar MCP**: 일정 관리 및 미팅 스케줄링
- **Zapier MCP**: 수백 개 앱 간 워크플로우 자동화

#### 데이터 분석
- **Jupyter MCP**: 대화형 데이터 분석 노트북
- **Pandas MCP**: 데이터 처리 및 분석
- **Matplotlib MCP**: 데이터 시각화 및 차트 생성

#### 특수 목적
- **Vision MCP**: 이미지 분석 및 OCR
- **Web Browser MCP**: 실시간 웹 페이지 접근
- **Sequential Thinking MCP**: 복잡한 작업을 위한 단계별 사고
- **Memory Bank MCP**: 대규모 프로젝트 메모리 관리

## 4. MCP 보안 고려사항

MCP는 강력한 기능을 제공하지만, 보안은 항상 최우선 고려사항입니다. BCG(Boston Consulting Group)의 MCP 보안 프레임워크에 따르면 다음 사항들을 반드시 검토해야 합니다:

**주요 보안 이슈:**
- **데이터 접근 권한 관리**: MCP 서버가 접근할 수 있는 데이터의 범위를 명확히 제한
- **API 키 보호**: 환경 변수나 안전한 키 관리 시스템 사용
- **샌드박싱과 격리**: 각 MCP 서버를 독립된 프로세스로 실행하여 시스템 격리
- **감사 로깅**: 모든 MCP 호출과 데이터 접근 기록 유지

**기업 환경 MCP 도입 체크리스트:**

- 접근 권한 정책 수립 및 문서화
- 민감 데이터 분류 및 암호화 적용
- MCP 서버 코드 감사 및 검증
- 정기적인 보안 업데이트 및 패치
- 사용자 교육 및 보안 인식 제고

MCP는 사용자가 명시적으로 허용한 범위 내에서만 작동하도록 설계되었지만, 적절한 보안 조치 없이는 위험할 수 있습니다. 항상 최소 권한 원칙을 따르고 필요한 권한만 부여하세요.

---

**작성일: 2025년 9월 3일 / 글자수: 5,708자 / 작성자: Claude / 프롬프터: 써니**
